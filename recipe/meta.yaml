{% set name = "awkward" %}
{% set version = "0.15.0" %}
{% set build_number = 0 %}

package:
  name: {{ name }}
  version: {{ version }}

source:
  - url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}0/{{ name }}0-{{ version }}.tar.gz
    sha256: 17c117b27a5981e1e39016bbac89129296f0de74a46a975d19a41ec2c328cd25
    folder: {{ name }}
  # - url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}-numba/{{ name }}-numba-{{ version }}.tar.gz
  #   sha256: ade7fe77f1a863658b31579f66aca94726eb8194506bb5666cf4b160b8cc98d1
  #   folder: {{ name }}-numba

build:
  number: {{ build_number }}
  noarch: python

# Specifying `python` as a top-level build requirements to force conda to
# render the recipe correctly
requirements:
  host:
    - python
  run:
    - python

test:
  imports:
    - awkward0

outputs:
  - name: {{ name }}
    version: {{ version }}
    build:
      number: {{ build_number }}
      script: {{ PYTHON }} -m pip install {{ name }} --no-deps -vv
      noarch: python
    requirements:
      build:
      host:
        - python
        - pip
        - pytest-runner
      run:
        - python
        - numpy >=1.13.1
    test:
      imports:
        - awkward0

  # - name: {{ name }}-numba
  #   version: {{ version }}
  #   build:
  #     number: {{ build_number }}
  #     script: {{ PYTHON }} -m pip install {{ name }}-numba --no-deps -vv
  #     noarch: python
  #   requirements:
  #     build:
  #     host:
  #       - python
  #       - pip
  #       - pytest-runner
  #     run:
  #       - python
  #       - numba <0.46
  #       - awkward =={{ version }}
  #   test:
  #     imports:
  #       - awkward.numba

about:
  home: https://github.com/scikit-hep/{{ name }}
  license: BSD-3-Clause
  license_file: LICENSE
  summary: Manipulate arrays of complex data structures as easily as Numpy.
  dev_url: https://github.com/scikit-hep/{{ name }}

extra:
  recipe-maintainers:
    - chrisburr
    - jpivarski
